---
tags:
  - shell
---
# 变量

定义变量
```shell title:变量与只读变量
NAME='moningf'
REPO_NAME='note'
var1=123
var2=456

不要使用空格

myUrl="https://moningf.top"
readonly myUrl
myUrl="https://baidu.com"   ##此时不能修改，会报错
```


使用变量
```sh title:使用变量
for skill in Ada Coffe Action Java; do
	echo "I am good at ${skill}Script."
	＃花括号可去掉，主要用于声明变量的边界
done
```


```sh title:删除变量
unset var_name　＃不能删除只读变量
```



变量类型
-　字符串变量
-　整数变量
-　数组变量
-　环境变量
-　特殊变量
```sh title:变量类型演示

my_string="hello world"
my_str='hello world'

declare -i my_integer=42

my_array=(1 2 3 4 5)

declare -A associative_array #关联数组
associative_array["name"]="moningf"
associatice_array["age"]=18

echo $PATH  #环境变量

$0表示脚本名称
$1,$2表示脚本的参数
$#表示传参的数量
$?表示上一个命令的退出状态
```

## 　字符串

```sh title:
name="moningf"

#拼接字符串
res="hello, "$name" "

#获取字符串长度
echo ${#name} 
echo ${#name[0]}

#获取子字符串
string="moningf is me"
echo ${string:1:4}   #输出onin

#查找子字符串
string="moningf is me"
echo `expr index "$string" io`  #输出4

```

## 数组
```sh title:操作数组
数组名=(值1 值2 ... 值n)

array_name=(
value0
value1
value2
value3
)

array_name[0]=value0
array_name[1]=value1
array_name[n]=valuen

#读取数组
${数组名[下标]}

#使用 @ 符号可以获取数组中的所有元素，例如：
echo ${array_name[@]}

# 取得数组元素的个数
length=${#array_name[@]}
length=${#array_name[*]}

# 取得数组单个元素的长度
length=${#array_name[n]}
```

## 多行注解
```
:<<EOF
注释内容...
注释内容...
注释内容...
EOF
```

# 传参

1. 获取参数通过==$n==(n为数字)
	eg. 
	$0代表执行脚本的文件名(包含路径)
	$1代表执行脚本的第一个参数

2. 特殊字符
- $# 传参的数量
- $* 以一个单字符串显示所有的传参
- \$$ 脚本运行的当前进程ID号
- $! 后台运行的最后一个进程的ID号
- $@ 与\$\*类似
- $- 显示shell使用的当前选项
- $? 显示最后命令的退出状态.0表示没有错误

==$* 与 $@== 区别：
- 相同点：都是引用所有参数。
- 不同点：
	- ==* ==等价于 "1 2 3"（传递了一个参数），
	-  ==@== 等价于 "1" "2" "3"（传递了三个参数）。
